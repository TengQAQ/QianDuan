(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8fc2655a"],{"8c29":function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return n})),a.d(t,"d",(function(){return o})),a.d(t,"c",(function(){return l}));var d=a("b775");function i(e){return Object(d["a"])({url:"/api/allAddr",method:"post",data:e})}function n(e){return Object(d["a"])({url:"/api/addAddr",method:"post",data:e})}function o(e){return Object(d["a"])({url:"/api/update",method:"post",data:e})}function l(e){return Object(d["a"])({url:"/api/deleteAddr",method:"post",data:e})}},f482:function(e,t,a){"use strict";a.r(t);var d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-col",[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small","prefix-icon":"el-icon-search",placeholder:"请输入地址"},model:{value:e.inlineData.name,callback:function(t){e.$set(e.inlineData,"name",t)},expression:"inlineData.name"}}),a("el-button",{staticStyle:{"background-color":"#1482f0",color:"white"},attrs:{size:"small"},on:{click:e.searchButton}},[e._v("查询")])],1)],1),a("el-row",[a("el-table",{attrs:{data:e.addrData,stripe:"","row-key":"addrId","tree-props":{children:"children"},"header-row-class-name":"data_tab_header"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),a("el-table-column",{attrs:{prop:"addrInfo",label:"名称"}}),a("el-table-column",{attrs:{label:"操作",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[null!=t.row.children?a("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(a){return e.addAddr(t.row)}}},[e._v("添加子类目")]):e._e(),a("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(a){return e.update(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"danger",plain:"",size:"mini"},on:{click:function(a){return e.deletAddr(t.row)}}},[e._v("删除")])]}}])})],1)],1),a("el-dialog",{ref:"title",attrs:{visible:e.addDialogVisible},on:{"update:visible":function(t){e.addDialogVisible=t}}},[a("el-form",{ref:"dialog",attrs:{title:"新增/编辑",model:e.addInfo,rules:e.addRules},on:{close:e.dialogClose}},[a("el-row",[a("el-form-item",{attrs:{label:"上级目录",prop:"name"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{"prefix-icon":"el-icon-edit",disabled:e.isdisplay},model:{value:e.addInfo.addrPreName,callback:function(t){e.$set(e.addInfo,"addrPreName",t)},expression:"addInfo.addrPreName"}})],1),a("el-form-item",{attrs:{label:"类目名称",prop:"name"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{"prefix-icon":"el-icon-edit",placeholder:"请输入"},model:{value:e.addInfo.addrInfo,callback:function(t){e.$set(e.addInfo,"addrInfo",t)},expression:"addInfo.addrInfo"}})],1)],1),a("el-row",{attrs:{span:24}},[a("el-col",{attrs:{offset:18}},[a("el-button",{attrs:{type:"primary"},on:{click:e.addSubmitButton}},[e._v("提交")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addCancelButton}},[e._v("取消")])],1)],1)],1)],1)],1)},i=[],n=a("8c29"),o={name:"Add",data:function(){return{inlineData:{name:void 0},addDialogVisible:!1,addrData:[],addInfo:{addrId:void 0,addrInfo:void 0,addrPreId:void 0,addrPreName:void 0,lev:void 0},isdisplay:!0,addRules:{addInfo:[{required:!0,message:"商品名称不能为空",trigger:"blur"}]},isUpdata:!1}},methods:{handleSelectionChange:function(e){this.multipleSelection=e,console.log("多选列表",this.multipleSelection)},dialogClose:function(){this.$refs["dialog"].resetFields(),this.addInfo={addInfo:void 0,addrPreId:void 0}},getallAddr:function(){var e=this;Object(n["b"])().then((function(t){e.addrData=t.data,console.log(t)}))},addAddr:function(e){console.log(e),this.addInfo.addrPreName=e.addrInfo,this.addInfo.addrPreId=e.addrId,this.addInfo.lev=e.lev+1,this.addDialogVisible=!0},update:function(e){this.addInfo=e,this.isUpdata=!0,this.addDialogVisible=!0},deletAddr:function(e){var t=this;Object(n["c"])(e.addrId).then((function(e){t.$notify({title:"成功",message:"删除数据成功",type:"success",position:"top-right"}),t.refresh()}))},searchButton:function(){console.log("搜索按钮被点击")},refresh:function(){this.getallAddr(),this.$refs["dialog"].resetFields(),this.addInfo={addInfo:void 0,addrPreId:void 0}},addSubmitButton:function(){var e=this;this.$refs["dialog"].validate((function(t){t?e.isUpdata?Object(n["d"])(e.addInfo).then((function(t){console.log(t),e.$notify({title:"成功",message:"数据修改成功",type:"success",position:"top-right"}),e.addDialogVisible=!1,e.$refs["dialog"].resetFields(),e.refresh()})):Object(n["a"])(e.addInfo).then((function(t){console.log(t),e.$notify({title:"成功",message:"数据新增成功",type:"success",position:"top-right"}),e.addDialogVisible=!1,e.$refs["dialog"].resetFields(),e.refresh()})):e.$notify({title:"失败",message:"操作失败，请重新尝试",type:"error",position:"top-right"})}))},addCancelButton:function(){}},created:function(){this.refresh()}},l=o,r=a("2877"),s=Object(r["a"])(l,d,i,!1,null,"2419f84b",null);t["default"]=s.exports}}]);